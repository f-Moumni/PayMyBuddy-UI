<app-header></app-header>
<div class="space"></div>
<div class="form-card">
  <form>
    <h3 class="h3 mb-3 font-weight-normal text-center">New Contact</h3>
    <div class="form-contact ">
      <label  >Email</label>
      <input
        type="email"
        class="form-control-plaintext"
        name="mail"
        placeholder="Enter email"
        [(ngModel)]="contactEmail"
        required
      />
      <button (click)="doAddContact(contactEmail)" type="submit" class="btn  btn-success">Add</button>
    </div>
  </form>

</div>
<div class="space"></div>
<ng-container *ngIf="(appState$ | async) as appState" [ngSwitch]="appState.dataState">
  <ng-container >
    <table class="table">
      <thead class="thead-dark">
      <tr>
        <th scope="col">First name</th>
        <th scope="col">Last name</th>
        <th scope="col">Email</th>
        <th scope="col">Action</th>
      </tr>
      </thead>
      <tbody *ngFor="let contact of appState.appData.data.contacts">
      <tr>
        <td>  {{contact.firstName }}</td>
        <td> {{contact.lastName}}</td>
        <td> {{contact.email}}</td>
        <td><a (click)="doRemove(contact)"><span class="glyphicon glyphicon-trash"></span> </a></td>
      </tr>
      </tbody>
    </table>
  </ng-container>
  <ng-container *ngSwitchCase="DataState.ERROR ">
    <div class="alert alert-danger">
      {{appState.error }}
    </div>
  </ng-container>
</ng-container>
